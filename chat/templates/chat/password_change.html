{% extends "chat/base.html" %}
{% load static %}

{% block content %}
    <div id="page-content">
        <h2>Change password</h2>

        <form class="form-horizontal" action="{% url 'password_change' %}" method="POST">
            {% csrf_token %}
            {% for field in form %}
                <div class="form-group {% if field.errors %}has-error{% endif %}">
                    <label for="{{ field.name }}" class="col-sm-5 control-label">{{ field.label }}</label>

                    <div class="col-sm-7">
                        <input type="password" name="{{ field.name }}"
                               class="form-control js-password-change"
                               id="{{ field.name }}"
                               placeholder="{{ field.label }}">
                        {% if field.errors %}
                            {% for error in field.errors %}
                                <label class="control-label" for="{{ field.name }}">{{ error }}</label>
                            {% endfor %}
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
            <div class="form-group">
                <div class="col-sm-offset-5 col-sm-7">
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" class="js-field-checkbox" name="display_fields"> Display fields (100%
                            secure)
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-5 col-sm-7">
                    <button type="submit" class="btn btn-default">Change my password</button>
                </div>
            </div>
        </form>
    </div>
{% endblock %}

{% block additionnal_script %}
    <script src="{% static 'chat/js/password_change.js' %}"></script>
{% endblock %}